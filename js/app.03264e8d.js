(function(t){function e(e){for(var a,r,l=e[0],c=e[1],o=e[2],f=0,d=[];f<l.length;f++)r=l[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,l=1;l<i.length;l++){var c=i[l];0!==s[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},s={app:0},n=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"02a5":function(t,e,i){"use strict";i("e19d")},"0954":function(t,e,i){},"1b41":function(t,e,i){"use strict";i("0954")},"2a19":function(t,e,i){"use strict";i("9011")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header",{on:{titleInput:t.getTitle}}),i("main",[i("Catalog",{attrs:{titleRequest:t.titleRequest},on:{collection:t.getCatalog}})],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[t._m(0),i("nav",{staticClass:"navbar__nav"},[i("ul",{staticClass:"nav__list"},[i("li",{staticClass:"list__item"},[i("button",{staticClass:"btn f--size-sm",attrs:{type:"button"},on:{click:function(e){t.filterCatalogBy("All"),t.seriesActive=!1,t.movieActive=!1}}},[t._v("All")])]),i("li",{staticClass:"list__item"},[i("button",{staticClass:"btn f--size-sm btn-filter",class:{active:t.movieActive},attrs:{type:"button"},on:{click:function(e){t.filterCatalogBy("movie"),t.movieActive=!t.movieActive,t.seriesActive=!1}}},[t._v("Movie")])]),i("li",{staticClass:"list__item"},[i("button",{staticClass:"btn f--size-sm btn-filter",class:{active:t.seriesActive},attrs:{type:"button"},on:{click:function(e){t.filterCatalogBy("tv"),t.seriesActive=!t.seriesActive,t.movieActive=!1}}},[t._v("Series")])])])]),i("form",{attrs:{action:"#"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.titleInput,expression:"titleInput"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.titleInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendTitle.apply(null,arguments)},input:function(e){e.target.composing||(t.titleInput=e.target.value)}}}),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.sendTitle.apply(null,arguments)}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 125","enable-background":"new 0 0 100 100","xml:space":"preserve"}},[i("path",{attrs:{d:"M99.337,89.242L68.052,57.956c4.063-6.057,6.246-13.179,6.246-20.636c0-9.923-3.864-19.252-10.881-26.269  C56.4,4.035,47.072,0.171,37.149,0.171c-9.923,0-19.252,3.864-26.269,10.88C3.864,18.068,0,27.397,0,37.32  s3.864,19.251,10.881,26.268s16.345,10.881,26.269,10.881c7.541,0,14.737-2.234,20.838-6.385l31.255,31.253  c1.055,1.056,2.995,0.826,4.332-0.511l5.252-5.252C100.164,92.237,100.393,90.297,99.337,89.242z M37.149,64.405  c-14.936,0-27.086-12.15-27.086-27.085s12.151-27.086,27.086-27.086c14.935,0,27.085,12.151,27.085,27.086  S52.084,64.405,37.149,64.405z"}})])])])])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navbar__logo"},[i("img",{attrs:{src:"https://fontmeme.com/permalink/211007/c072857f28ffed69c9266a55183f4c20.png",alt:""}})])}],c={name:"Header",data:function(){return{titleInput:"",movieActive:!1,seriesActive:!1}},methods:{sendTitle:function(){this.$emit("titleInput",this.titleInput),this.titleInput=""},filterCatalogBy:function(t){this.$parent.$emit("filterMovie",t)}}},o=c,u=(i("02a5"),i("2877")),f=Object(u["a"])(o,r,l,!1,null,"4cd7e205",null),d=f.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"title-request"},[i("span",[t._v("Resuts for")]),i("h2",[t._v(t._s(t.titleRequest))])]),i("ul",{staticClass:"genres-filter"},t._l(t.filterCollection,(function(e,a){return i("li",{key:e.btn+"-"+a,staticClass:"genres-filter__item"},[i("button",{staticClass:"btn btn-filter",class:{active:e.active},attrs:{type:"button"},on:{click:function(i){t.getFilter(e.btn,a),e.active=!e.active}}},[t._v(" "+t._s(e.btn)+" ")])])})),0),i("div",{staticClass:"related f--size-sm"},[i("div",{staticClass:"text--grey related__title"},[t._v("Explore titles related to:")]),i("ul",{staticClass:"related__list"},t._l(t.filterBy(),(function(e,a){return i("li",{key:"title_"+a,staticClass:"list__item f--size-sm"},[i("a",{attrs:{href:"#film_"+a}},[t._v(t._s(e.nameTitle))])])})),0)]),i("ul",{staticClass:"catalog"},t._l(t.filterBy(),(function(t,e){return i("li",{key:"film_"+e,staticClass:"catalog__item",attrs:{id:"film_"+e}},[i("Card",{attrs:{item:t}})],1)})),0),i("div",{staticClass:"back-to-top"},[i("button",{staticClass:"btn btn--back-to-top",class:[t.scrolled?t.showInline:t.hide],on:{click:t.topFunction}},[t._v("Back to top")])])])},m=[],v=(i("99af"),i("159b"),i("b0c0"),i("4e82"),i("d81d"),i("caad"),i("2532"),i("a15b"),i("4de4"),i("bc3a")),g=i.n(v),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"card__poster",class:[t.active?t.hide:t.show],on:{click:t.mouseOver}},[t.item.poster_path?i("img",{attrs:{src:"https://image.tmdb.org/t/p/w342"+t.item.poster_path,alt:t.item.nameTitle}}):i("div",{staticClass:"missing--image"},[i("h3",{staticClass:"card"},[t._v(t._s(t.item.nameTitle))])])]),i("ol",{staticClass:"card__list",class:[t.active?t.show:t.hide],on:{mouseleave:t.mouseLeave}},[i("li",[i("h3",{staticClass:"card"},[t._v(t._s(t.item.nameTitle))])]),i("li",{staticClass:"card__item f--size-md text--grey"},[t._v(t._s(t.item.original_title||t.item.original_name))]),i("li",{staticClass:"card__item flag-container item--m-bottom--auto"},[t.posterPath(t.item.original_language)?i("img",{staticClass:"flag",attrs:{src:"https://unpkg.com/language-icons/icons/"+t.posterPath(t.item.original_language)+".svg",alt:t.item.original_language}}):i("p",[t._v("Unknown Data")])]),i("li",{staticClass:"card__item item--genres"},[t._v(t._s(t.genresString()))]),0!=t.item.cast_list?i("li",{staticClass:"card__item"},[i("ul",[i("li",{staticClass:"text--grey f--size-sm"},[t._v("Cast:")]),t._l(t.item.cast_list,(function(e){return i("li",{key:t.item.nameTitle+"_"+e,staticClass:"f--size-sm"},[t._v(t._s(e))])}))],2)]):t._e(),i("li",{staticClass:"card__item text--right f--size-sm"},[t._v("MDB Rating "+t._s(t.item.vote_average))]),i("li",{staticClass:"card__item item-stars text--right"},t._l(5,(function(e,a){return i("svg",{key:"star"+a,class:t.starCondition(a),attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 143.95 137.32"}},[t._v("> "),i("path",{staticClass:"cls-1",attrs:{d:"M193.21,252.74l19.23,39a3.69,3.69,0,0,0,2.78,2l43,6.25a3.69,3.69,0,0,1,2,6.29l-31.11,30.33a3.68,3.68,0,0,0-1.06,3.27l7.35,42.82a3.69,3.69,0,0,1-5.36,3.89l-38.46-20.22a3.71,3.71,0,0,0-3.43,0l-38.46,20.22a3.69,3.69,0,0,1-5.35-3.89l7.34-42.82a3.68,3.68,0,0,0-1.06-3.27l-31.11-30.33a3.69,3.69,0,0,1,2-6.29l43-6.25a3.69,3.69,0,0,0,2.78-2l19.23-39A3.69,3.69,0,0,1,193.21,252.74Z",transform:"translate(-117.93 -250.19)"}})])})),0)])])},_=[],b={name:"Card",props:{item:Object},data:function(){return{fullStar:"fullStar",emptyStar:"emptyStar",hide:"hide",show:"show",active:!1}},methods:{stars:function(t){return parseInt(Math.ceil(t/2))},starCondition:function(t){return t++,t<=this.stars(this.item.vote_average)?this.fullStar:this.emptyStar},mouseOver:function(){this.active=!0},mouseLeave:function(){this.active=!1},posterPath:function(t){return""!=t&&"cn"!=t?t:"cn"==t&&"ch"},genresString:function(){return this.item.genresList.join(", ")}}},C=b,y=(i("1b41"),Object(u["a"])(C,h,_,!1,null,"76d6ee90",null)),w=y.exports,k={name:"Catalog",components:{Card:w},data:function(){return{catalog:null,filterString:"",showInline:"show-inline",hide:"hide",scrolled:!1,genres:[],filterSelected:"",filterCollection:[],filters:[]}},props:{titleRequest:String},created:function(){var t=this;this.titleRequest="Hello",g.a.all([g.a.get("https://api.themoviedb.org/3/genre/tv/list",{params:{api_key:"8eed27c438ed455893587d87d2a0d9d5"}}),g.a.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:"8eed27c438ed455893587d87d2a0d9d5"}})]).then(g.a.spread((function(e,i){t.genres=e.data.genres.concat(i.data.genres)})))},watch:{titleRequest:function(t){var e=this,i={api_key:"8eed27c438ed455893587d87d2a0d9d5",query:t};g.a.all([g.a.get("https://api.themoviedb.org/3/search/movie",{params:i}),g.a.get("https://api.themoviedb.org/3/search/tv",{params:i})]).then(g.a.spread((function(t,i){t.data.results.forEach((function(t){t.category="movie",t.nameTitle=t.title})),i.data.results.forEach((function(t){t.category="tv",t.nameTitle=t.name}));var a=t.data.results.concat(i.data.results);e.catalog=a.sort((function(t,e){return t.nameTitle.localeCompare(e.nameTitle)})),e.catalog.forEach((function(t){t.cast_list=[],t.genresList=[],g.a.get("https://api.themoviedb.org/3/".concat(t.category,"/").concat(t.id,"/credits"),{params:{api_key:"8eed27c438ed455893587d87d2a0d9d5"}}).then((function(i){var a=0;while(a<5&&a<i.data.cast.length)t.cast_list.push(i.data.cast[a].name),a++;t.genresList=t.genre_ids.map((function(t){for(var i=0;i<e.genres.length;i++)if(e.genres[i].id==t)return 0==e.filters.includes(e.genres[i].name)&&(e.filters.push(e.genres[i].name),e.filterCollection.push({btn:e.genres[i].name,active:!1})),e.genres[i].name})),t.genresList.join(", ")}))}))})))}},methods:{filterBy:function(){var t=this;return this.catalog.filter((function(e){return""==t.filterSelected&&e.category.toLowerCase().includes(t.filterString.toLowerCase())||e.category.toLowerCase().includes(t.filterString.toLowerCase())&&e.genresList.includes(t.filterSelected)||"all"==t.filterString.toLowerCase()&&e.genresList.includes(t.filterSelected)||"all"==t.filterString.toLowerCase()&&""==t.filterSelected?e:void 0}))},topFunction:function(){this.$refs=0,document.documentElement.scrollTop=0},scroll:function(){var t=this;window.onscroll=function(){window.pageYOffset>1e3?t.scrolled=!0:t.scrolled=!1}},getFilter:function(t,e){this.filterCollection.forEach((function(t,i){e!=i&&(t.active=!1)})),this.filterSelected==t?this.filterSelected="":this.filterSelected=t}},mounted:function(){var t=this;this.$parent.$on("filterMovie",(function(e){e==t.filterString?t.filterString="all":t.filterString=e})),this.scroll()}},S=k,x=(i("2a19"),Object(u["a"])(S,p,m,!1,null,"8381e71e",null)),O=x.exports,T={name:"App",components:{Header:d,Catalog:O},data:function(){return{titleRequest:"",data:null}},methods:{getTitle:function(t){this.titleRequest=t},getCatalog:function(t){this.data=t}}},j=T,A=(i("5c0b"),Object(u["a"])(j,s,n,!1,null,null,null)),L=A.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(L)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},9011:function(t,e,i){},"9c0c":function(t,e,i){},e19d:function(t,e,i){}});
//# sourceMappingURL=app.03264e8d.js.map